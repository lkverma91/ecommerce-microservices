# ===========================================
# Eureka Server - Default Configuration
# ===========================================
# Base config shared across all profiles.
# Profile-specific overrides go in application-{profile}.yml

spring:
  application:
    name: eureka-server

server:
  port: 8761

# ===========================================
# Eureka Server Configuration
# ===========================================
eureka:
  instance:
    # Uses env variable if provided, otherwise defaults to eureka-server
    hostname: ${EUREKA_INSTANCE_HOSTNAME:eureka-server}

  client:
    # This application IS the registry
    register-with-eureka: false
    fetch-registry: false

  server:
    # Disable self-preservation for development
    enable-self-preservation: false
    # Faster cleanup of stale instances (5 seconds)
    eviction-interval-timer-in-ms: 5000

# ===========================================
# Actuator - expose health for Docker/K8s
# ===========================================
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: ALWAYS